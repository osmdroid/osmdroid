<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-02-23 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="Date-Creation-yyyymmdd" content="20080101"/>
    <meta name="Date-Revision-yyyymmdd" content="20161218"/>
    <meta http-equiv="Content-Language" content="en"/>
    <title> osmdroid</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css"/>
    <link rel="stylesheet" href="./css/site.css"/>
    <link rel="stylesheet" href="./css/print.css" media="print"/>

    <link rel="stylesheet" type="text/css" href="./css/bootstrap-sortable.css">


    <script type="text/javascript" src="./js/jquery-1.12.4.min.js"></script>
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>
    <script type="text/javascript" src="./js/bootstrap-sortable.js"></script>
    <script type="text/javascript" src="./js/moment.min.js"></script>
</head>
<body class="topBarDisabled">

<a href="https://github.com/osmdroid/osmdroid">
    <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
    src="./img/forkme_right_gray_6d6d6d.png"
    alt="Fork me on GitHub">
    </a>


<div class="container-fluid">
    <div id="banner">
        <div class="pull-left">
            <div id="bannerLeft">
                <h2> osmdroid</h2>
            </div>
        </div>
        <div class="pull-right">
            <div id="bannerRight">
                <!-- override this with your own logo-->
                <img src="./img/logo.png"/>
            </div>
        </div>
        <div class="clear">
            <hr/>
        </div>
    </div>

    <div id="breadcrumbs">
        <ul class="breadcrumb">

            <li class="">
                <a href="https://github.com/osmdroid/" class="externalLink" title="org.osmdroid">
                    org.osmdroid</a>
                <span class="divider">/</span>
            </li>
            <li class="">
                <a href="https://github.com/osmdroid/osmdroid" class="externalLink" title="osmdroid">
                    osmdroid</a>

            </li>

            <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published:
                2016-12-18
            </li>
            <li id="projectVersion" class="pull-right">
                5.6.1
            </li>

        </ul>
    </div>


    <div class="row-fluid">
        <div id="leftColumn" class="span2">
            <div class="well sidebar-nav">


                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>

                    <li  >

                        <a href="index.html"><span class="none"></span>Introduction</a>
                    </li>

                    <!-- user generated menu goes here, basically any additional html or markdown files
                    from src/site are auto linked here-->
                     <li>

                                <a href="Applications-Using-osmdroid.html" title="Applications   Using   osmdroid">
                                    <span class="none"></span>
                                    Applications   Using   osmdroid</a>
                            </li> <li>

                                <a href="Changelog.html" title="Changelog">
                                    <span class="none"></span>
                                    Changelog</a>
                            </li> <li>

                                <a href="Debugging-osmdroid.html" title="Debugging   osmdroid">
                                    <span class="none"></span>
                                    Debugging   osmdroid</a>
                            </li> <li>

                                <a href="Developer-Guidelines.html" title="Developer   Guidelines">
                                    <span class="none"></span>
                                    Developer   Guidelines</a>
                            </li> <li>

                                <a href="FAQ.html" title="FAQ">
                                    <span class="none"></span>
                                    FAQ</a>
                            </li> <li>

                                <a href="Generated-Change-Log.html" title="Generated   Change   Log">
                                    <span class="none"></span>
                                    Generated   Change   Log</a>
                            </li> <li>

                                <a href="Home.html" title="Home">
                                    <span class="none"></span>
                                    Home</a>
                            </li> <li>

                                <a href="How-big-is-it.html" title="How   big   is   it">
                                    <span class="none"></span>
                                    How   big   is   it</a>
                            </li> <li>

                                <a href="How-to-add-the-osmdroid-library-via-Gradle.html" title="How   to   add   the   osmdroid   library   via   Gradle">
                                    <span class="none"></span>
                                    How   to   add   the   osmdroid   library   via   Gradle</a>
                            </li> <li>

                                <a href="How-to-build-osmdroid-from-source.html" title="How   to   build   osmdroid   from   source">
                                    <span class="none"></span>
                                    How   to   build   osmdroid   from   source</a>
                            </li> <li>

                                <a href="How-to-include-OsmDroid-in-a-Maven-Android-project.html" title="How   to   include   Osm Droid   in   a   Maven   Android   project">
                                    <span class="none"></span>
                                    How   to   include   Osm Droid   in   a   Maven   Android   project</a>
                            </li> <li>

                                <a href="How-to-include-OsmDroid-in-a-non-Gradle,-non-Maven-project.html" title="How   to   include   Osm Droid   in   a   non   Gradle ,   non   Maven   project">
                                    <span class="none"></span>
                                    How   to   include   Osm Droid   in   a   non   Gradle ,   non   Maven   project</a>
                            </li> <li>

                                <a href="How-to-use-the-osmdroid-library.html" title="How   to   use   the   osmdroid   library">
                                    <span class="none"></span>
                                    How   to   use   the   osmdroid   library</a>
                            </li> <li>

                                <a href="Important-notes-on-using-osmdroid-in-your-app.html" title="Important   notes   on   using   osmdroid   in   your   app">
                                    <span class="none"></span>
                                    Important   notes   on   using   osmdroid   in   your   app</a>
                            </li> <li>

                                <a href="Map-Sources.html" title="Map   Sources">
                                    <span class="none"></span>
                                    Map   Sources</a>
                            </li> <li>

                                <a href="Modular-Tile-Provider-Architecture.html" title="Modular   Tile   Provider   Architecture">
                                    <span class="none"></span>
                                    Modular   Tile   Provider   Architecture</a>
                            </li> <li>

                                <a href="Offline-Map-Tiles.html" title="Offline   Map   Tiles">
                                    <span class="none"></span>
                                    Offline   Map   Tiles</a>
                            </li> <li>

                                <a href="osmdroid-thirdparty.html" title="Osmdroid   thirdparty">
                                    <span class="none"></span>
                                    Osmdroid   thirdparty</a>
                            </li> <li>

                                <a href="Prerequisites.html" title="Prerequisites">
                                    <span class="none"></span>
                                    Prerequisites</a>
                            </li> <li>

                                <a href="Related-Projects.html" title="Related   Projects">
                                    <span class="none"></span>
                                    Related   Projects</a>
                            </li> <li>

                                <a href="Release-Procedure.html" title="Release   Procedure">
                                    <span class="none"></span>
                                    Release   Procedure</a>
                            </li> <li>

                                <a href="Tile-Caching-Settings.html" title="Tile   Caching   Settings">
                                    <span class="none"></span>
                                    Tile   Caching   Settings</a>
                            </li> <li>

                                <a href="Tile-Caching.html" title="Tile   Caching">
                                    <span class="none"></span>
                                    Tile   Caching</a>
                            </li> <li>

                                <a href="Upgrade-Guide.html" title="Upgrade   Guide">
                                    <span class="none"></span>
                                    Upgrade   Guide</a>
                            </li>

                    <li class="nav-header">Project Documentation</li>

                    <li>

                        <a href="project-info.html" title="Project Information">
                            <span class="icon-chevron-down"></span>
                            Project Information</a>
                        <ul class="nav nav-list">

                            <li>

                                <a href="team-list.html" title="Project Team">
                                    <span class="none"></span>
                                    Project Team</a>
                            </li>

                            <li>

                                <a href="scm:git:git@github.com:osmdroid/osmdroid.git" title="Source Repository">
                                    <span class="none"></span>
                                    Source Repository</a>
                            </li>

                            <li>

                                <a href="https://github.com/osmdroid/osmdroid/issues" title="Issue Tracking">
                                    <span class="none"></span>
                                    Issue Tracking</a>
                            </li>
                            <li>

                                <a href="project-license.html" title="Project License">
                                    <span class="none"></span>
                                    Project License</a>
                            </li>

                            <li>

                                <a href="dependency-repos.html" title="Dependency Repositories">
                                    <span class="none"></span>
                                    Dependency Repositories</a>
                            </li>


                            <li>

                                <a href="dependencyReport.html" title="Dependency Convergence">
                                    <span class="none"></span>
                                    Dependency Convergence</a>
                            </li>

                            <!-- maybe in the future
                                                        <li>

                                                            <a href="mail-lists.html" title="Mailing Lists">
                                                                <span class="none"></span>
                                                                Mailing Lists</a>
                                                        </li>

                                                        <li>

                                                            <a href="dependency-management.html" title="Dependency Management">
                                                                <span class="none"></span>
                                                                Dependency Management</a>
                                                        </li>


                            -->
                            <li>

                                <a href="https://travis-ci.org/osmdroid/osmdroid" title="Continuous Integration">
                                    <span class="none"></span>
                                    Continuous Integration</a>
                            </li>
                            <!--
                                                        <li>

                                                            <a href="plugins.html" title="Project Plugins">
                                                                <span class="none"></span>
                                                                Project Plugins</a>
                                                        </li>
                            -->
                            <li>

                                <a href="https://github.com/osmdroid/osmdroid/releases"
                                   title="Distribution Management">
                                    <span class="none"></span>
                                    Distribution Management</a>
                            </li>
                            <li>

                                <a href="javadoc.html" title="Project Reports">
                                    <span class="none"></span>
                                    Javadocs</a>

                            </li>

                            <li>

                                <a href="reports.html" title="Project Reports">
                                    <span class="none"></span>
                                    Project Reports</a>

                            </li>

                        </ul>
                    </li>


                </ul>


                <hr/>


            </div>
        </div>


        <div id="bodyColumn" class="span10">
            <a name="topOfPage"></a>
            <h1>Map Sources</h1>
<p>This document is all about Map Sources, Tile loading, caching, offline setups and more</p>
<h1>Map Projections</h1>
<p>What map projection does osmdroid use and or support? There are tons of map projections out there. The important part to know is that osmdroid is based on Open Street Maps, which currently uses the EPSG:3857 projection.</p>
<p>It is possible to support different projections with osmdroid, but you'll either need to preprocess the imagery (convert it) or use a WMS based product like <a href="http://geoserver.org/">http://geoserver.org/</a> in conjunction with MOBAC to prepare offline tile packages. It may also be possible to add WMS support to osmdroid.</p>
<p>Related source material from Open Street Maps
<a href="http://wiki.openstreetmap.org/wiki/Perl/Projected_version_of_an_OSM_extract">http://wiki.openstreetmap.org/wiki/Perl/Projected_version_of_an_OSM_extract</a></p>
<h1>What map tile numbering system does osmdroid support?</h1>
<ul>
<li>
<p>ZXY - osmdroid is based on Open Street Maps, which uses something called the &quot;Slippy Map Format&quot;. It's the same format used by many of the common map providers. Most online tile sources use the Zoom/X/Y URL format where X and Y are integer coordinates based on dividing the entire map into quadrants. This is the natively supported format for osmdroid.</p>
</li>
<li>
<p>ZYX - Some map tile servers, such as some ESRI based products, use the Zoom/Y/X URL format. Since it's trivial to convert to ZXY, support for this format is easy to setup on osmdroid. We currently have at least one map source that uses this mechanism (see USGS maps).</p>
</li>
<li>
<p><a href="https://wiki.osgeo.org/wiki/Tile_Map_Service_Specification">TMS</a> - Tile Map Service Specification is used by a number map services online. Conversion between ZXY and TMS is also pretty straight forward. In this case, X and Y are the same and the zoom levels are inverted.</p>
</li>
<li>
<p>Everything else - many other map services serve map imagery using geographic lat/lon decimal bounds instead of a numbering system. In these cases, it's fairly easy convince these services to provide imagery that fit the OSM style of map tiles by converting what osmdroid wants  in ZXY coordinates to their bounding boxes.</p>
</li>
</ul>
<p>Sources
<a href="http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames">http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames</a></p>
<h1>Tile providers vs Tile Source</h1>
<p>osmdroid uses two components to display map imagery, the Tile Provider and the Tile Source. The Tile Provider is used to determine how to load tiles (online, offline, assets folders, etc). The Tile Source determines what imagery set is displayed, such as Bing, Mapquest, Mapnik, etc. The default Tile Provider, searches the following for your Tile Source, Assets, Offline zip/sqlite/etc in (/sdcard/osmdroid), Downloaded tile cache (/sdcard/osmdroid/tiles) and then finally the downloader. There are other alternate providers included with osmdroid that change the way tiles are loaded offline. osmdroid BonusPack has a number of alternative provides that use other libraries like MapForge to generate tiles on the fly using OSM data while offline.</p>
<h1>Creating a custom tile provider chain</h1>
<p>One of the features of osmdroid is the customizable tile provider chain. This provides the ability to mix and match various tile provider modules to create a specific tile retrieval strategy. The <code>MapTileProviderBasic</code> tile provider provides a default set of tile provider modules that includes a file cache, an archive provider, and a download provider. For most users this covers the basics, but you can build you own custom tile provider chain.</p>
<pre><code class="language-java">final Context context = getActivity();
final Context applicationContext = context.getApplicationContext();
final IRegisterReceiver registerReceiver = new SimpleRegisterReceiver(applicationContext);

// Create a custom tile source
final ITileSource tileSource = new XYTileSource(
    &quot;Mapnik&quot;, ResourceProxy.string.mapnik, 1, 18, 256, &quot;.png&quot;, &quot;http://tile.openstreetmap.org/&quot;);

// Create a file cache modular provider
final TileWriter tileWriter = new TileWriter();
final MapTileFilesystemProvider fileSystemProvider = new MapTileFilesystemProvider(
    registerReceiver, tileSource);

// Create an archive file modular tile provider
GEMFFileArchive gemfFileArchive = GEMFFileArchive.getGEMFFileArchive(mGemfArchiveFilename); // Requires try/catch
MapTileFileArchiveProvider fileArchiveProvider = new MapTileFileArchiveProvider(
    registerReceiver, tileSource, new IArchiveFile[] { gemfFileArchive });

// Create a download modular tile provider
final NetworkAvailabliltyCheck networkAvailabliltyCheck = new NetworkAvailabliltyCheck(context);
final MapTileDownloader downloaderProvider = new MapTileDownloader(
    tileSource, tileWriter, networkAvailablityCheck);

// Create a custom tile provider array with the custom tile source and the custom tile providers
final MapTileProviderArray tileProviderArray = new MapTileProviderArray(
    tileSource, registerReceiver, new MapTileModuleProviderBase[] {
        fileSystemProvider, fileArchiveProvider, downloaderProvider });

// Create the mapview with the custom tile provider array
mMapView = new MapView(context, 256, new DefaultResourceProxyImpl(context), tileProviderArray);
</code></pre>
<h2>Using a different Tile Source</h2>
<p>osmdroid comes with a bunch of tile sources preprogrammed for sources available on the internet. Some require API keys or additional information due to usage restrictions, developers accounts, pay schemes, etc. The following example will show you how to switch tile sources at runtime.</p>
<p>To set to USGS satellite:</p>
<pre><code>mMapView.setTileSource(TileSourceFactory.USGS_SAT);
</code></pre>
<p>To set to USGS Topo maps:</p>
<pre><code>mMapView.setTileSource(TileSourceFactory.USGS_TOPO);
</code></pre>
<p>To set to a custom map server/tile source. In this case, we are using the USGS Topographic maps. This tile source is a bit different and requires some explanation. Most OSM based map sources use a URL pattern  similar to Zoom/X/Y.png. USGS, as well as many other ArcGis based sources, use Zoom/Y/X and thus require a different URL pattern.</p>
<p>osmdroid version &lt;= 4.3</p>
<pre><code>mMapView.setTileSource(new OnlineTileSourceBase(&quot;USGS Topo&quot;, ResourceProxy.string.custom, 0, 18, 256, &quot;&quot;, 
               new String[] { &quot;http://basemap.nationalmap.gov/ArcGIS/rest/services/USGSTopo/MapServer/tile/&quot; }) {
               @Override
               public String getTileURLString(MapTile aTile) {
                    return getBaseUrl() + aTile.getZoomLevel() + &quot;/&quot; + aTile.getY() + &quot;/&quot; + aTile.getX()
				+ mImageFilenameEnding;
               }
          });
</code></pre>
<p>osmdroid version &gt;= 5</p>
<pre><code>mMapView.setTileSource(new OnlineTileSourceBase(&quot;USGS Topo&quot;, 0, 18, 256, &quot;&quot;, 
               new String[] { &quot;http://basemap.nationalmap.gov/ArcGIS/rest/services/USGSTopo/MapServer/tile/&quot; }) {
               @Override
               public String getTileURLString(MapTile aTile) {
                    return getBaseUrl() + aTile.getZoomLevel() + &quot;/&quot; + aTile.getY() + &quot;/&quot; + aTile.getX()
				+ mImageFilenameEnding;
               }
          });
</code></pre>
<h2>How to adjust the tile cache (in memory)</h2>
<p>Since many devices have support for <code>android:largeHeap=&quot;true&quot;</code> settings, which enables your app to use more memory than &quot;normal&quot;. This code snippet will allow you to increase the tile cache (in memory) to meet your needs. It's normally set to the exact number of tiles to fill the screen.</p>
<pre><code>Iterator&lt;Overlay&gt; iterator = mMapView.getOverlays().iterator();
while(iterator.hasNext()){
	Overlay next = iterator.next();
	if (next instanceof TilesOverlay){
		TilesOverlay x = (TilesOverlay)next;
		x.setOvershootTileCache(x.getOvershootTileCache() * 2);
		Toast.makeText(getActivity(), &quot;Tiles overlay cache set to &quot; + x.getOvershootTileCache(), Toast.LENGTH_LONG).show();
		break;
	}
}
</code></pre>
<h2>Adjust the size of the cache on disk</h2>
<p>The primary usage is downloaded map tiles</p>
<pre><code>//this will set the disk cache size in MB to 1GB , 9GB trim size
OpenStreetMapTileProviderConstants.setCacheSizes(1000L, 900L);
</code></pre>
<h1>Online Map Sources (out of the box)</h1>
<p>osmdroid comes with a few map sources preconfigured for you to use. Usage access rules vary based on the source. Make sure you read the fine print.</p>
<h2>Mapnik (aka Open Street Maps)</h2>
<p>Required Java dependencies</p>
<ul>
<li>osmdroid-android</li>
</ul>
<p>Code Sample:</p>
<pre><code>final ITileSource tileSource = TileSourceFactory.MAPNIK;
mMapView.setTileSource(tileSource);
</code></pre>
<h2>Mapquest</h2>
<p>Note: This was updated with v5.3</p>
<p>Required Java dependencies</p>
<ul>
<li>osmdroid-android</li>
</ul>
<p>Code Sample:</p>
<pre><code>final ITileSource tileSource = new MapQuestTileSource(context);
mMapView.setTileSource(tileSource);
</code></pre>
<p>Requires access key in your manifest for <strong>MapBox</strong>.
Manifest (optional):
Under manifest/application</p>
<pre><code>&lt;meta-data android:name=&quot;MAPQUEST_MAPID&quot; android:value=&quot;YOUR KEY&quot; /&gt;
&lt;meta-data android:name=&quot;MAPQUEST_ACCESS_TOKEN&quot; android:value=&quot;YOUR TOKEN&quot; /&gt;
</code></pre>
<h2>HERE We Go Maps</h2>
<p>Note: This was added with v5.3</p>
<p>Required Java dependencies</p>
<ul>
<li>osmdroid-android</li>
</ul>
<p>Code Sample:</p>
<pre><code>final ITileSource tileSource = new HEREWeGoTileSource(context);
mMapView.setTileSource(tileSource);
</code></pre>
<p>Requires access key in your manifest.
Manifest (optional):
Under manifest/application</p>
<pre><code>&lt;meta-data android:name=&quot;HEREWEGO_MAPID&quot; android:value=&quot;YOUR KEY&quot; /&gt;
&lt;meta-data android:name=&quot;HEREWEGO_APPID&quot; android:value=&quot;YOUR TOKEN&quot; /&gt;
&lt;meta-data android:name=&quot;HEREWEGO_APPCODE&quot; android:value=&quot;YOUR TOKEN&quot; /&gt;
</code></pre>
<h2>Cloud made</h2>
<p>Required Java dependencies</p>
<ul>
<li>osmdroid-android</li>
</ul>
<p>Manifest (optional):
Under manifest/application</p>
<pre><code>&lt;meta-data android:name=&quot;CLOUDMADE_KEY&quot; android:value=&quot;YOUR KEY&quot; /&gt;
</code></pre>
<p>Code Sample:</p>
<pre><code>CloudmadeUtil.retrieveCloudmadeKey(context);
final ITileSource tileSource = TileSourceFactory.CLOUDMADESTANDARDTILES;
mMapView.setTileSource(tileSource);
</code></pre>
<h2>Map Box</h2>
<p>Note: This was updated with v5.3</p>
<p>Required Java dependencies</p>
<ul>
<li>osmdroid-android</li>
</ul>
<p>Manifest (optional):
Under manifest/application</p>
<pre><code>&lt;meta-data android:name=&quot;MAPBOX_MAPID&quot; android:value=&quot;YOUR KEY&quot; /&gt;
&lt;meta-data android:name=&quot;MAPBOX_ACCESS_TOKEN&quot; android:value=&quot;YOUR TOKEN&quot; /&gt;
</code></pre>
<p>Code Sample:</p>
<pre><code>final MapBoxTileSource tileSource = new MapBoxTileSource();
//option 1, load your settings from the manifest
tileSource.retrieveAccessToken(context);
tileSource.retrieveMapBoxMapId(context);
//option 2, provide them programmatically
tileSource.setAccessToken(context);
tileSource.setMapBoxMapId(context);
mMapView.setTileSource(tileSource);
</code></pre>
<h2>USGS Topo</h2>
<p>Required Java dependencies</p>
<ul>
<li>osmdroid-android</li>
</ul>
<p>Code Sample:</p>
<pre><code>final ITileSource tileSource = TileSourceFactory.USGS_TOPO;
mMapView.setTileSource(tileSource);
</code></pre>
<h2>Bing Maps</h2>
<p>Required Java dependencies</p>
<ul>
<li>osmdroid-android</li>
<li>osmdroid-third-party</li>
</ul>
<p>Manifest (optional):
Under manifest/application</p>
<pre><code>&lt;meta-data android:name=&quot;BING_KEY&quot; android:value=&quot;YOUR KEY&quot; /&gt;
</code></pre>
<p>Code Sample:</p>
<pre><code>//load from manifest
org.osmdroid.tileprovider.tilesource.bing.BingMapTileSource.retrieveBingKey(this);
//or load programmatically
org.osmdroid.tileprovider.tilesource.bing.BingMapTileSource.setBingKey(&quot;YOUR KEY&quot;);
org.osmdroid.tileprovider.tilesource.bing.BingMapTileSource bing=new org.osmdroid.tileprovider.tilesource.bing.BingMapTileSource(null);
mapView.setTileSource(bing);
</code></pre>
<h3>Set the imagery options</h3>
<h4>Hybrid (Road + Aerial)</h4>
<pre><code>bing.setStyle(BingMapTileSource.IMAGERYSET_AERIALWITHLABELS);
</code></pre>
<h4>Road</h4>
<pre><code>bing.setStyle(BingMapTileSource.IMAGERYSET_ROAD);
</code></pre>
<h4>Aerial</h4>
<pre><code>bing.setStyle(BingMapTileSource.IMAGERYSET_AERIAL);
</code></pre>
<h2>Google Maps</h2>
<p>Required Java dependencies</p>
<ul>
<li>osmdroid-android</li>
<li>osmdroid-third-party</li>
</ul>
<p>MinSDK 9</p>
<p>Code Sample:
See the example &quot;GoogleMapsWrapper&quot; application</p>
<h2>WMS Support</h2>
<p>WMS Support on device is something that we're working on, but it's not a high priority on the moment.</p>
<p>You can use MOBAC to connected to a WMS map provider, then convert those tiles into an offline map source in the mean time.</p>
<h2>Geopackage Support</h2>
<p>Geopackage is an open standard for defining a file format that can contain multiple imagery sets and/or vector graphics. It's possible to <a href="https://github.com/spyhunter99/geopkg4osmdroid">convert geopackage files</a> into osmdroid compatible sqlite database. It's also possible to perform this task on an android device, however initial experiments showed that the performance wasn't very good.</p>
<h1>Offline map tiles</h1>
<p>See this article <a href="https://github.com/osmdroid/osmdroid/wiki/Offline-Map-Tiles">https://github.com/osmdroid/osmdroid/wiki/Offline-Map-Tiles</a></p>
<h1>Can I use more than one tile source at a time?</h1>
<p>The answer is yes. First, a few use cases.</p>
<ul>
<li>Weather</li>
<li>Grid lines</li>
<li>Data that's too complex to draw or that's drawn on a server</li>
<li>Elevation data</li>
<li>Tile sources that use transparency</li>
</ul>
<p>Example (MGRS grid lines from an older ArcGIS REST endpoint. This is a US military provided service and may not be available everywhere and may go away at any point. It's just an example):</p>
<ol>
<li>First setup your base layer.</li>
</ol>
<pre><code>mMapView.setTileSource(TileSourceFactory.USGS_TOPO);
</code></pre>
<ol start="2">
<li>Create a new Tile Provider and associated Tile Source</li>
</ol>
<pre><code>MapTileProviderBasic provider = new MapTileProviderBasic(getActivity(), new OnlineTileSourceBase(&quot;MGRS&quot;,0,15,256,&quot;PNG&quot;, new String[0]) {
			@Override
			public String getTileURLString(MapTile aTile) {
				BoundingBox bbox=tile2boundingBox(aTile.getX(), aTile.getY(), aTile.getZoomLevel());
				String baseUrl =&quot;http://egeoint.nrlssc.navy.mil/arcgis/rest/services/usng/USNG_93/MapServer/export?dpi=96&amp;transparent=true&amp;format=png24&amp;bbox=&quot;+bbox.west+&quot;,&quot;+bbox.south+&quot;,&quot;+bbox.east+&quot;,&quot;+bbox.north+&quot;&amp;size=256,256&amp;f=image&quot;;
				return baseUrl;
			}
		});
</code></pre>
<p>Note: the method <code>tile2boundingBox</code> was pulled from OSM's <a href="http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#Java">Slippy Map</a> wiki entry. It converts a tile coordinate to a lat/lon bounds.
3. Create the tile layer
<code>TilesOverlay layer = new TilesOverlay(provider, getActivity());</code>
4. Important, set the background and loading bits to transparent</p>
<pre><code>		layer.setLoadingBackgroundColor(Color.TRANSPARENT);
		layer.setLoadingLineColor(Color.TRANSPARENT);
</code></pre>
<ol start="5">
<li>Add it to the map view
<code>mMapView.getOverlays().add(layer);</code></li>
</ol>
<h1>Can I use an ESRI ArcGIS REST API to display tiles on osmdroid?</h1>
<p>Yes, as long as the endpoint supports the <code>export</code> API with bounding box then the above example should get you going. Note: ESRI's APIs can vary significantly by version and configuration settings. Consult their API guide additional details (and report back here!)</p>
<h1>Translating Map Scale to OSM zoom levels</h1>
<table>
<thead>
<tr><th>Approximate Map Scale</th><th>OSM Zoom Level</th></tr>
</thead>
<tbody>
<tr><td>5M</td><td>5</td></tr>
<tr><td>2M</td><td>8</td></tr>
<tr><td>1M</td><td>9</td></tr>
<tr><td>500k</td><td>10</td></tr>
<tr><td>250k</td><td>11-12</td></tr>
<tr><td>50</td><td>13-14</td></tr>
<tr><td>25k</td><td>15</td></tr>
<tr><td>8k</td><td>16</td></tr>
</tbody>
</table>


        </div>
        <div id="iframenav" style="visibility:hidden">
            <center><h3><a name="iframeAnchor"></a><a href="#topOfPage"> -- Top --</a></h3>
                <a href="javascript:popout();">Load in a new window</a>
            </center>
        </div>

        <iframe id="frame1" width="100%" height="75%" style="display:none"></iframe>



    </div>
</div>

<hr/>

<footer>
    <div class="container-fluid">
        <div class="row-fluid">
            <!-- footer -->
        </div>


    </div>
</footer>

<div class="modal hide fade" id="modal1">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Artifact Details</h3>
    </div>
    <div class="modal-body">
        <h3>Gradle</h3>
        <pre id="gradleDep">

        </pre>
        <h3>Maven</h3>
        <pre id="mavenDep">

        </pre>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal" >Close</a>
    </div>
</div>

<script type="text/javascript">

/**
*    opens the current iframe url in a new window or tab
*/
function popout(){
    var destination = $("#frame1").attr('src');
    var win = window.open(destination, '_blank');
    win.focus();
}

/**
*    displays a report and shows the iframe
*/
function showReport(url){
    $("#iframenav").css('visibility','');
    $("#frame1").show();
    $("#frame1").attr('src', url);
    $("#frame1").attr('height', window.innerHeight);
    window.location.assign("#iframeAnchor");
}

/**
* shows our maven/gradle helper modal
type is the file extension
*/
function showModal(group, artifact, version,type, classifier){

/**
if classifier and types
    foreach classifier
        foreach types
else if classifier
    foreach classifier
else if type
    foreah type
else
    just output it
*/
    //string outputs
    var maventxt ="";
    var gradle="";

    var hasClassifiers = classifier !== "" && classifier !== undefined;
    var hasTypes = type !== "" && type !== undefined;

    if (hasClassifiers && hasTypes){
        type = type.trim();
        var types = type.split(" ");
        classifier = classifier.trim();
        var classifiers = classifier.split(" ");
        for (var i = 0; i < types.length; i++) {
            if (types[i].trim().length==0)
                continue;
            for (var k = 0; k < classifiers.length; k++) {
                if (classifiers[k].trim().length==0)
                    continue;
                maventxt+= "<dependency>\n\t<groupId>" + group + "</groupId>\n\t<artifactId>" + artifact+
                    "</artifactId>\n\t";
                maventxt += "<type>" + types[i].trim() + "</type>\n\t";
                maventxt += "<classifier>" + classifiers[k].trim() + "</classifier>\n\t";
                maventxt +="<version>" + version + "</version>\n</dependency>\n";

                gradle += "compile '" + group + ":" + artifact + ":" + version;
                gradle += ":" + classifiers[k].trim();
                gradle += "@" + types[i];
                gradle += "'\n";
            }

        }


    } else if (hasClassifiers) {
        classifier = classifier.trim();
        var types = classifier.split(" ");
        for (var i = 0; i < types.length; i++) {
            if (types[i].trim().length==0)
                continue;
            maventxt+= "<dependency>\n\t<groupId>" + group + "</groupId>\n\t<artifactId>" + artifact+
                "</artifactId>\n\t";
            maventxt += "<classifier>" + types[i].trim() + "</classifier>\n\t";
            maventxt +="<version>" + version + "</version>\n</dependency>\n";

            gradle += "compile '" + group + ":" + artifact + ":" + version;
            gradle += ":" + types[i];
            gradle += "'\n";

        }
    } else if (hasTypes) {
        type = type.trim();
        var types = type.split(" ");
        for (var i = 0; i < types.length; i++) {
            if (types[i].trim().length==0)
                continue;
            maventxt+= "<dependency>\n\t<groupId>" + group + "</groupId>\n\t<artifactId>" + artifact+
                "</artifactId>\n\t";
            maventxt += "<type>" + types[i].trim() + "</type>\n\t";
            maventxt +="<version>" + version + "</version>\n</dependency>\n";

            gradle += "compile '" + group + ":" + artifact + ":" + version;
            gradle += "@" + types[i];
            gradle += "'\n";

        }
    } else {
            //no type or classifiers
         maventxt+= "<dependency>\n\t<groupId>" + group + "</groupId>\n\t<artifactId>" + artifact+
                "</artifactId>\n\t";
         maventxt +="<version>" + version + "</version>\n</dependency>\n";
         gradle += "compile '" + group + ":" + artifact + ":" + version;
         gradle += "'\n";

    }

    $("#mavenDep").text(maventxt);
    $("#gradleDep").text(gradle);
    $('#modal1').modal()

}

$("table").addClass("table table-striped sortable");
$(function () {
    setNavigation();
});


/**
* this sets the "active" bit on the left hand side naviation menu
*/
function setNavigation() {
    var path = window.location.pathname;
    path = path.replace(/\/$/, "");
    path = decodeURIComponent(path);
    var idx=path.toString().lastIndexOf("/");
    if (idx >= 0)
        path=path.substring(idx+1, path.length);

    $(".nav a").each(function () {
        var href = $(this).attr('href');
        if (path.substring(0, href.length) === href) {
            $(this).closest('li').addClass('active');
        }
    });
}
</script>
</body>
</html>
